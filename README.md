# Robolink Web Client

This project is a web-based, visual programming editor where users can drag
blocks together to build programs that can be executed by CoDrone connected through BLE.

## Requirements

Clousure library is necessary in order to create a new compressed version of the blocks or update the code generators. If you add or modify blocks you need to download first [Clousure library](https://github.com/google/closure-library/zipball/master), uncompressed the zip file and place the folder next to **Robolink-web-client** root directory and ensure that the directory is named **closure-library**.

This project use webpack as a build tool so you also need to run

```
$npm install
```

## Build

To build a new version of the BLE libray please run:

```
$npm run build-ble
```

After make changes on blocks and code generation to build the whole blockly library you can run:

```
$npm run build-blockly
```

To generate a build specifically for code generation changes on blockly you can run:

```
$npm run build-blockly-generators
```

## Files generated after build

Javascript custom componentes like open/save menu, right toggle pannel, output console (for zumi) and socket connection are all include within **src/app/ble-lib/bundle.js** file

Any change to the blocks or code generated by those blocks are included on:
- **/sr/app/blockly-lib/blockly_compressed.js** (blockly core library)
- **/sr/app/blockly-lib/blocks_compressed.js** (all included by default and customs blocks)
- **/sr/app/blockly-lib/python_compressed.js** (contents all python code generated by each block)

This output files should be copy to the specific project to be served from a browser (eg: Flask-AP project / specific blockly directory)
## Version

Before deploy a new version you should increment app version by running

```
$npm run release
```

To build everything just run **npm run build**

## Blockly App Environment Links

https://www.robolink.com/blockly (For production)

https://www.robolink.com/blockly-test (For teachers)

https://www.robolink.com/blockly-internal-test (For us)
